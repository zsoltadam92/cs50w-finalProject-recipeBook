{% extends "recepies/layout.html" %} {% block content %}
<h2 class="mb-4">Recepies</h2>

<div class="container mt-3">
  <div class="row ml-auto mr-auto">
    {% for recipe in recipes%}
    <div class="col-6 col-md-6 col-lg-3 mb-4">
      <div class="card card-listing h-100 d-flex flex-column">
        <img
          class="card-img-top img-fluid"
          src="{{ recipe.image.url }}" 
          alt="{{ recipe.title }}"
          style="width: 300px; height: 200px;"
        />
        <div class="card-body">
          <h4 class="card-title">{{ recipe.title|truncatechars:30 }}</h4>
          <a
            href="{% url 'recipe_details' recipe.id %}"
            class="stretched-link"
          ></a>
        </div>
        <div class="card-footer mt-auto">
          <div class="row">
              <!-- Első sor: Idő és adagok -->
              <div class="col-6 d-flex align-items-center">
                  <i class="bi bi-hourglass-split"></i>
                  <span class="ml-2">{{ recipe.preparation_time }} min</span>
              </div>
              <div class="col-6 d-flex align-items-center">
                  <i class="bi bi-people-fill"></i>
                  <span class="ml-2">{{ recipe.serving }}</span>
              </div>
      
              <!-- Második sor: Nehézség és értékelés -->
              <div class="col-6 d-flex align-items-center">
                  <i class="bi bi-speedometer2"></i>
                  <span class="ml-2">{{ recipe.difficulty }}</span>
              </div>
              <div class="col-6 d-flex align-items-center">
                  <p class="mb-0">{{ recipe.average_rating|floatformat:1 }} <span class="star-orange" style="font-size: 1.3rem">&#9733;</span></p>
              </div>
          </div>
      </div>
      
      </div>
    </div>
    {% endfor %}
  </div>
</div>




<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center mt-4">
    {% if recipes.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page=1" aria-label="First">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
    {% endif %}

    {% if page_range|first > 1 %}
      <li class="page-item"><span class="page-link">...</span></li>
    {% endif %}

    {% for num in page_range %}
      <li class="page-item {% if num == recipes.number %}active{% endif %}">
        <a class="page-link" href="?page={{ num }}">{{ num }}</a>
      </li>
    {% endfor %}

    {% if page_range|last < last_two_pages|first %}
      <li class="page-item"><span class="page-link">...</span></li>
    {% endif %}

    {% for num in last_two_pages %}
      {% if num > page_range|last %}
        <li class="page-item {% if num == recipes.number %}active{% endif %}">
          <a class="page-link" href="?page={{ num }}">{{ num }}</a>
        </li>
      {% endif %}
    {% endfor %}

    {% if recipes.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ recipes.paginator.num_pages }}" aria-label="Last">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    {% endif %}
  </ul>
</nav>








{% endblock %}




